<!DOCTYPE html>
<html lang="dv" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Royal Graduation System (V10 - 100 Borders Edition)</title>
    <style>
        /* --- GLOBAL --- */
        body {
            -webkit-user-select: none; user-select: none;
            margin: 0; padding: 0;
            background: #001a12; font-family: 'Faruuma', 'Times New Roman', serif;
            overflow: hidden; height: 100vh; width: 100vw;
        }

        @font-face {
            font-family: 'Faruuma';
            src: local('Faruuma'), local('Faruumaa'), url('Fonts/faruuma.ttf') format('truetype');
        }

        /* --- UI STYLES --- */
        .main-layout { display: flex; gap: 8px; height: 100vh; width: 100vw; padding: 8px; box-sizing: border-box; background: #00281c; }
        .sidebar { flex: 0 0 320px; background: #f1f8e9; padding: 10px; border-radius: 8px; display: flex; flex-direction: column; height: 100%; border-right: 4px solid #d4af37; overflow-y: auto; }
        .editor { flex: 1; background: #ffffff; padding: 10px; border-radius: 8px; display: flex; flex-direction: column; height: 100%; overflow-y: auto; position: relative; border-left: 4px solid #d4af37; }
        
        /* CONTROLS */
        .design-panel { background: #fff8e1; border: 1px solid #ffb300; border-radius: 5px; padding: 8px; margin-bottom: 8px; }
        .design-row { display: flex; gap: 10px; margin-bottom: 5px; border-bottom: 1px dashed #ccc; padding-bottom: 5px; }
        .design-col { flex: 1; }
        .d-label { font-size: 11px; font-weight: bold; color: #e65100; display: block; margin-bottom: 2px; }
        input[type=range], input[type=color], select, input[type=text] { width: 100%; margin-bottom: 2px; font-family: 'Faruuma'; }
        button { cursor: pointer; font-family: 'Faruuma'; font-weight: bold; padding: 5px; width: 100%; margin-bottom: 5px; }
        .launch-btn { background: #c62828; color: white; padding: 10px; font-size: 14px; border:none; border-radius:4px; }
        
        /* BORDER SELECTOR STYLING */
        #cBorderSel { font-size: 12px; font-weight: bold; color: #00281c; background: #fff9c4; padding: 5px; height: 100px; }
        optgroup { color: #800000; background: #ffe0b2; font-style: normal; font-weight: bold; }
        option { color: #000; background: #fff; padding: 2px; }

    </style>
</head>
<body oncontextmenu="return false;">

    <div class="main-layout" id="mainApp">
        <div class="sidebar">
            <h2 style="text-align:center; color:#d4af37; margin:0;">ROYAL SYSTEM V10</h2>
            <div style="text-align:center; font-size:10px; color:#aaa; margin-bottom:10px;">Presidential Border Edition</div>
            
            <button class="launch-btn" onclick="openTV()">üñ•Ô∏è OPEN TV SCREEN</button>
            
            <div class="design-panel">
                <span class="d-label">üé® 1. THEME COLOR (Controls Border Color):</span>
                <input type="color" id="bdColorPick" value="#d4af37" oninput="liveUpdate('bdColor', this.value)" style="height:30px;">
            </div>

            <div class="design-panel">
                 <span class="d-label">üñºÔ∏è 2. BORDER COLLECTION (80+ Styles):</span>
                 <select id="cBorderSel" onchange="liveUpdate('cBorder', this.value)" size="10">
                    <option value="b0">üö´ No Border</option>
                    
                    <optgroup label="üëë Presidential Gold (ﬁÉﬁ®ﬁîﬁßﬁêﬁ© ﬁÉﬁ¶ﬁÇﬁ∞)">
                        <option value="pres1">1. Heavy Gold Bar</option>
                        <option value="pres2">2. Gold & Black Inset</option>
                        <option value="pres3">3. Triple Royal Lines</option>
                        <option value="pres4">4. Metallic Gradient Frame</option>
                        <option value="pres5">5. The State Border (Thick)</option>
                        <option value="pres6">6. Double Gold Ridge</option>
                        <option value="pres7">7. Luxury Box Shadow</option>
                        <option value="pres8">8. Golden Plaque</option>
                        <option value="pres9">9. Royal Certificate</option>
                        <option value="pres10">10. Diplomatic Edge</option>
                    </optgroup>

                    <optgroup label="üïå Islamic Zakhrafa (ﬁáﬁ®ﬁêﬁ∞ﬁçﬁßﬁâﬁ© ﬁíﬁ¶ﬁöﬁ∞ﬁÉﬁ¶ﬁäﬁß)">
                        <option value="isl1">11. Masjid Arch (Top)</option>
                        <option value="isl2">12. Arabesque Pattern</option>
                        <option value="isl3">13. Geometric Star</option>
                        <option value="isl4">14. Quranic Margin</option>
                        <option value="isl5">15. Sufi Circle Pattern</option>
                        <option value="isl6">16. Islamic Lattice</option>
                        <option value="isl7">17. Minaret Spire</option>
                        <option value="isl8">18. Green & Gold Motif</option>
                        <option value="isl9">19. Classic Zakhrafa</option>
                        <option value="isl10">20. Modern Islamic</option>
                    </optgroup>

                    <optgroup label="‚ú® Corner Accents (ﬁÜﬁ¶ﬁÇﬁßﬁåﬁ∞ﬁåﬁ¶ﬁáﬁ∞ ﬁáﬁ¨ﬁÜﬁ¶ﬁÇﬁ®)">
                        <option value="corn1">21. 4 Corners (Classic)</option>
                        <option value="corn2">22. 4 Corners (Floral)</option>
                        <option value="corn3">23. 4 Corners (Line Art)</option>
                        <option value="corn4">24. 2 Corners (Top-L / Btm-R)</option>
                        <option value="corn5">25. 2 Corners (Top-R / Btm-L)</option>
                        <option value="corn6">26. Bracket Corners [ ]</option>
                        <option value="corn7">27. Art Deco Corners</option>
                        <option value="corn8">28. Floating Gold Dots</option>
                        <option value="corn9">29. Elegant Swirls</option>
                        <option value="corn10">30. Minimal Corners</option>
                    </optgroup>

                    <optgroup label="üá≤üáª Traditional (ﬁãﬁ®ﬁàﬁ¨ﬁÄﬁ®ﬁàﬁ¶ﬁÇﬁ∞ﬁåﬁ¶)">
                        <option value="div1">31. Thundu Kuna (Black/White)</option>
                        <option value="div2">32. Liyelaa (Red/Black)</option>
                        <option value="div3">33. Woven Mat Pattern</option>
                        <option value="div4">34. Hirigaa (Stone Carving)</option>
                        <option value="div5">35. Kasabu Boidhaa</option>
                    </optgroup>

                    <optgroup label="üíé Modern Luxury (ﬁíﬁ¶ﬁâﬁßﬁÇﬁ©)">
                        <option value="mod1">36. Glass Morphism (Blur)</option>
                        <option value="mod2">37. Neon Glow</option>
                        <option value="mod3">38. Thin Elegant Line</option>
                        <option value="mod4">39. Offset Outline</option>
                        <option value="mod5">40. Double Offset</option>
                        <option value="mod6">41. Dashed Royal</option>
                        <option value="mod7">42. Dotted Pearl</option>
                        <option value="mod8">43. Gradient Fade (Top/Btm)</option>
                        <option value="mod9">44. Side Bars Only</option>
                        <option value="mod10">45. Floating Card</option>
                    </optgroup>
                    
                    <optgroup label="üñºÔ∏è Artistic Frames (ﬁäﬁ∞ﬁÉﬁ≠ﬁâﬁ∞)">
                        <option value="art1">46. Vintage Paper</option>
                        <option value="art2">47. Grunge Gold</option>
                        <option value="art3">48. Watercolor Edge</option>
                        <option value="art4">49. Sketchy Line</option>
                        <option value="art5">50. Brush Stroke</option>
                        <option value="art6">51. Pattern Overlay</option>
                        <option value="art7">52. Diamond Mesh</option>
                        <option value="art8">53. Chain Link</option>
                        <option value="art9">54. Rope Texture</option>
                        <option value="art10">55. Double Ridge</option>
                    </optgroup>
                 </select>
            </div>

            <div class="design-panel">
                <span class="d-label">Photo & Text:</span>
                <input type="text" id="jLine1" placeholder="Main Title" onkeyup="updateJalsaText()">
                <div class="row"><div class="col"><input id="nD" placeholder="Name Dv" onkeyup="updateTV()"></div></div>
                <div class="row"><div class="col"><input id="nE" placeholder="Name En" onkeyup="updateTV()"></div></div>
                <input type="file" id="singlePhoto" accept="image/*" onchange="manualPhoto(this)">
            </div>
            
            <div style="font-size:10px; text-align:center; margin-top:10px;">Created for Royal Events</div>
        </div>

        <div class="editor" style="display:flex; justify-content:center; align-items:center; background:#333;">
            <h1 style="color:#d4af37;">PREVIEW ON TV SCREEN</h1>
        </div>
    </div>

<script>
    let tvWindow = null;
    let designState = { bdColor: '#d4af37', cBorder: 'pres1' };
    let currentPhoto = "";

    function liveUpdate(key, val) {
        designState[key] = val;
        if(tvWindow && !tvWindow.closed) {
            const doc = tvWindow.document;
            if(key === 'bdColor') doc.documentElement.style.setProperty('--theme-color', val);
            if(key === 'cBorder') {
                const card = doc.getElementById('card');
                card.className = val; 
                // Trigger specific SVG injections for complex borders
                injectBorderSVG(val, doc);
            }
        }
    }
    
    function updateTV() {
        if(tvWindow && !tvWindow.closed) {
            tvWindow.document.getElementById('tnD').innerText = document.getElementById('nD').value;
            tvWindow.document.getElementById('tnE').innerText = document.getElementById('nE').value;
        }
    }
    
    function updateJalsaText() {
        if(tvWindow && !tvWindow.closed) {
            tvWindow.document.getElementById('jt1').innerText = document.getElementById('jLine1').value;
        }
    }

    function manualPhoto(input) {
        if(input.files && input.files[0]) {
            let r = new FileReader();
            r.onload = e => { 
                currentPhoto = e.target.result; 
                if(tvWindow) tvWindow.document.getElementById('stuImg').src = currentPhoto; 
            };
            r.readAsDataURL(input.files[0]);
        }
    }

    // --- SVG INJECTOR FOR COMPLEX BORDERS ---
    function injectBorderSVG(cls, doc) {
        const borderDiv = doc.getElementById('svgLayer');
        borderDiv.innerHTML = ''; // Clear previous
        const col = designState.bdColor.replace('#', '%23'); // URL Encode color
        
        // 4 CORNERS SVG
        if(cls.startsWith('corn')) {
            let svg = '';
            if(cls === 'corn1' || cls === 'corn4') { // Classic Swirl
                svg = `<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 95V5H95" stroke="${col}" stroke-width="8"/><path d="M20 95V20H95" stroke="${col}" stroke-width="2"/></svg>`;
            } else if (cls === 'corn2') { // Floral
                 svg = `<svg width="100" height="100" viewBox="0 0 100 100" fill="${col}"><path d="M0 0C50 0 50 50 100 50V0H0Z"/><circle cx="20" cy="20" r="10"/></svg>`;
            } else if (cls === 'corn7') { // Art Deco
                 svg = `<svg width="120" height="120" viewBox="0 0 120 120"><path d="M10 110V10H110" stroke="${col}" stroke-width="5" fill="none"/><path d="M20 110V20H110" stroke="${col}" stroke-width="2" fill="none"/><rect x="0" y="0" width="15" height="15" fill="${col}"/></svg>`;
            }
            
            if(svg) {
                // Top Left
                if(cls !== 'corn5') borderDiv.innerHTML += `<div style="position:absolute; top:0; left:0; width:100px; height:100px;">${svg}</div>`;
                // Top Right (Rotate 90)
                if(cls !== 'corn4') borderDiv.innerHTML += `<div style="position:absolute; top:0; right:0; width:100px; height:100px; transform:scaleX(-1);">${svg}</div>`;
                // Btm Right (Rotate 180)
                if(cls !== 'corn5') borderDiv.innerHTML += `<div style="position:absolute; bottom:0; right:0; width:100px; height:100px; transform:scale(-1);">${svg}</div>`;
                // Btm Left (Rotate 270)
                if(cls !== 'corn4') borderDiv.innerHTML += `<div style="position:absolute; bottom:0; left:0; width:100px; height:100px; transform:scaleY(-1);">${svg}</div>`;
            }
        }
        
        // ISLAMIC SVG PATTERNS
        if(cls === 'isl1') { // Arch
             borderDiv.innerHTML = `<div style="position:absolute; top:-40px; left:50%; transform:translateX(-50%); width:60%; height:80px; border-top: 8px solid ${designState.bdColor}; border-radius: 50% 50% 0 0; background:rgba(0,0,0,0.5);"></div>`;
        }
    }

    function openTV() {
        tvWindow = window.open('', 'GradTV', 'width=1280,height=720,menubar=no,toolbar=no');
        const html = `
        <!DOCTYPE html>
        <html dir="rtl">
        <head>
            <style>
                @font-face { font-family: 'Faruuma'; src: url('Fonts/faruuma.ttf') format('truetype'); }
                :root { --theme-color: ${designState.bdColor}; }
                body { margin:0; background:#001a12; font-family:'Faruuma'; overflow:hidden; }
                
                /* BACKGROUND */
                .bg { position:fixed; width:100%; height:100%; background: radial-gradient(circle, #00281c 0%, #000 100%); z-index:-1; }

                /* CARD CONTAINER */
                #card { 
                    position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); 
                    width:90vw; height:80vh; 
                    display:flex; justify-content:center; align-items:center;
                    background: rgba(0,0,0,0.3);
                    transition: all 0.5s ease;
                    box-sizing: border-box;
                }

                /* --- 1. PRESIDENTIAL STYLES --- */
                .pres1 { border: 15px solid var(--theme-color); box-shadow: 0 0 30px rgba(0,0,0,0.8), inset 0 0 20px #000; }
                .pres2 { border: 20px solid #111; outline: 5px solid var(--theme-color); outline-offset: -10px; }
                .pres3 { border-top: 5px solid var(--theme-color); border-bottom: 5px solid var(--theme-color); padding:10px; box-shadow: 0 0 0 10px #000, 0 0 0 12px var(--theme-color); }
                .pres4 { border: 20px solid transparent; border-image: linear-gradient(45deg, #b8860b, #ffd700, #fff, #ffd700, #b8860b) 1; box-shadow: 0 0 50px rgba(212,175,55,0.3); }
                .pres5 { border: 40px solid var(--theme-color); border-radius: 10px; }
                .pres6 { border: 10px ridge var(--theme-color); }
                .pres7 { border: 1px solid var(--theme-color); box-shadow: 0 0 0 20px #001a12, 0 0 0 22px var(--theme-color); }
                .pres8 { background: radial-gradient(circle, transparent 50%, #000 150%); border: 4px double var(--theme-color); outline: 2px solid var(--theme-color); outline-offset: 15px; margin:20px; }
                .pres9 { border: 8px solid var(--theme-color); border-radius: 4px; position:relative; }
                .pres9::before { content:''; position:absolute; top:5px; left:5px; right:5px; bottom:5px; border: 2px dashed var(--theme-color); }
                .pres10 { border-left: 30px solid var(--theme-color); border-right: 30px solid var(--theme-color); background: rgba(0,0,0,0.5); }

                /* --- 2. ISLAMIC STYLES --- */
                .isl1 { border-bottom: 5px solid var(--theme-color); } /* Arch handled by SVG Layer */
                .isl2 { border: 30px solid transparent; border-image: repeating-linear-gradient(45deg, var(--theme-color), var(--theme-color) 10px, transparent 10px, transparent 20px) 1; }
                .isl3 { border: 5px solid var(--theme-color); clip-path: polygon(0% 0%, 100% 0%, 100% 80%, 50% 100%, 0% 80%); } /* Shield/Dome shape */
                .isl4 { border: 10px double var(--theme-color); padding:5px; outline:2px dashed var(--theme-color); outline-offset:5px; }
                .isl5 { border: 10px dotted var(--theme-color); border-radius: 50px; }
                .isl6 { border: 15px solid transparent; background-image: linear-gradient(var(--theme-color), var(--theme-color)), linear-gradient(var(--theme-color), var(--theme-color)); background-size: 2px 100%, 100% 2px; background-position: center; background-repeat: no-repeat; outline: 4px solid var(--theme-color); outline-offset: 20px; }
                .isl7 { border-left: 5px solid var(--theme-color); border-right: 5px solid var(--theme-color); border-top: 20px solid var(--theme-color); border-radius: 20px 20px 0 0; }
                .isl8 { border: 10px solid #004d40; outline: 5px solid var(--theme-color); }
                .isl9 { border: 20px solid var(--theme-color); border-radius: 0 50px 0 50px; }
                .isl10 { border-top: 2px solid var(--theme-color); border-bottom: 2px solid var(--theme-color); background: linear-gradient(90deg, transparent, rgba(212,175,55,0.2), transparent); }

                /* --- 3. CORNER STYLES (Handled mostly by SVG Layer) --- */
                .corn1, .corn2, .corn3, .corn4, .corn5, .corn6, .corn7, .corn8, .corn9, .corn10 { border: 1px solid rgba(255,255,255,0.1); }
                .corn6::after { content:''; position:absolute; top:-10px; left:-10px; right:-10px; bottom:-10px; border: 4px solid var(--theme-color); clip-path: polygon(0 20%, 0 0, 20% 0, 80% 0, 100% 0, 100% 20%, 100% 80%, 100% 100%, 80% 100%, 20% 100%, 0 100%, 0 80%, 10px 80%, 10px 20%); } /* Brackets hack */

                /* --- 4. TRADITIONAL MALDIVIAN --- */
                .div1 { border: 20px solid #000; outline: 5px solid #fff; box-shadow: 0 0 0 10px #000; }
                .div2 { border: 15px solid #b71c1c; border-top-color: #000; border-bottom-color: #000; }
                .div3 { border: 10px dashed var(--theme-color); background: radial-gradient(#333 1px, transparent 1px); background-size: 10px 10px; }
                
                /* --- 5. MODERN --- */
                .mod1 { border: 1px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.05); backdrop-filter: blur(15px); box-shadow: 0 10px 30px rgba(0,0,0,0.5); border-radius: 15px; }
                .mod2 { border: 2px solid var(--theme-color); box-shadow: 0 0 15px var(--theme-color), inset 0 0 15px var(--theme-color); }
                .mod3 { border: 1px solid var(--theme-color); }
                .mod4 { border: 2px solid var(--theme-color); outline: 2px solid var(--theme-color); outline-offset: 10px; margin:15px; }
                
                /* CONTENT LAYOUT */
                .content { display:flex; flex-direction:row-reverse; align-items:center; width:100%; padding:40px; }
                .photo-area { width: 300px; height: 300px; border: 5px solid var(--theme-color); box-shadow: 0 10px 30px black; margin-left:40px; }
                .text-area { flex:1; text-align:right; color:white; }
                h1 { font-size: 4em; color: var(--theme-color); margin:0; text-shadow: 2px 2px 0px #000; border-bottom: 2px solid var(--theme-color); display:inline-block; }
                h2 { font-size: 2.5em; color: white; margin: 10px 0; }
                
                #svgLayer { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:10; }

            </style>
        </head>
        <body>
            <div class="bg"></div>
            <div id="jalsaTitle" style="position:absolute; top:50px; width:100%; text-align:center; color:var(--theme-color); font-size:3em; z-index:5;"><span id="jt1">ROYAL CEREMONY</span></div>
            
            <div id="card" class="pres1">
                <div id="svgLayer"></div>
                <div class="content">
                    <img id="stuImg" class="photo-area" src="https://via.placeholder.com/300">
                    <div class="text-area">
                        <h1 id="tnD">ﬁáﬁ®ﬁÑﬁ∞ﬁÉﬁßﬁÄﬁ®ﬁâﬁ∞ ﬁáﬁ¶ﬁçﬁ©</h1>
                        <h2 id="tnE">Ibrahim Ali</h2>
                        <p style="font-size:1.5em; color:#ddd;">Outstanding Achievement</p>
                    </div>
                </div>
            </div>
        </body>
        </html>
        `;
        tvWindow.document.write(html);
        tvWindow.document.close();
        liveUpdate('cBorder', designState.cBorder);
        liveUpdate('bdColor', designState.bdColor);
    }
</script>
</body>
</html>
