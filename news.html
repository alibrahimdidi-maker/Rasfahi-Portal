<!DOCTYPE html>
<html lang="dv" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ޚަބަރާއި އިވެންޓްތައް - ޒާދް އެކަޑެމީ</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thaana:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --royal-blue: #0C2D48;
            --royal-gold: #B49658;
            --bg-light: #f4f6f8;
            /* Font Stack: Tries Faruma first, then Mv Galan, then web font Noto Sans */
            --font-dv: 'Faruma', 'Mv Galan', 'Noto Sans Thaana', sans-serif;
        }
        
        @font-face {
            font-family: 'Faruma';
            src: local('Faruma');
        }
        @font-face {
            font-family: 'Mv Galan';
            src: local('Mv Galan');
        }
        
        body { 
            margin: 0; padding: 0; 
            font-family: var(--font-dv); 
            background: var(--bg-light); 
            color: #333; 
            padding-bottom: 80px; 
            line-height: 1.8;
        }
        
        a { text-decoration: none; color: inherit; }
        
        /* HEADER */
        header { background: var(--royal-blue); color: white; padding: 20px; text-align: center; border-bottom: 5px solid var(--royal-gold); }
        .site-title { font-size: 2em; margin-bottom: 5px; font-weight: bold; }
        .nav-links { display: flex; justify-content: center; gap: 20px; margin-top: 15px; }
        .nav-links a { color: #ccc; font-weight: bold; font-size: 1.1em; }
        .nav-links a:hover { color: var(--royal-gold); }

        /* CONTAINER */
        .container { max-width: 1200px; margin: 30px auto; padding: 0 20px; }
        
        /* SECTION STYLES */
        .section-title { 
            color: var(--royal-blue); 
            border-bottom: 2px solid var(--royal-gold); 
            padding-bottom: 10px; 
            margin-bottom: 20px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
        }
        .section-title h2 { margin: 0; font-size: 1.6em; }

        /* EVENTS LIST */
        .event-list { display: flex; flex-direction: column; gap: 15px; }
        .event-card { 
            background: white; padding: 15px; border-radius: 8px; border-right: 6px solid var(--royal-blue); 
            display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: 0.3s; position: relative;
        }
        .event-date { background: var(--royal-gold); color: white; padding: 8px 15px; border-radius: 6px; font-weight: bold; text-align: center; min-width: 90px; font-size: 1.1em; }
        .event-details { flex-grow: 1; margin-right: 20px; }
        .event-title { font-size: 1.3em; font-weight: bold; color: var(--royal-blue); margin-bottom: 5px; display: block; }
        .event-loc { font-size: 1em; color: #555; }

        /* NEWS GRID */
        .news-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; }
        .news-card { 
            background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 3px 10px rgba(0,0,0,0.1); 
            display: flex; flex-direction: column; position: relative;
        }
        .news-img { width: 100%; height: 220px; object-fit: cover; transition: 0.3s; }
        .news-content { padding: 25px; flex-grow: 1; }
        .news-tag { background: var(--royal-blue); color: white; padding: 4px 12px; font-size: 0.85em; border-radius: 20px; display: inline-block; margin-bottom: 10px; }
        .news-title { font-size: 1.4em; font-weight: bold; margin: 10px 0; line-height: 1.4; color: #000; }
        .news-excerpt { color: #666; font-size: 1em; line-height: 1.7; }

        /* --- ADMIN ELEMENTS (HIDDEN BY DEFAULT) --- */
        /* These are critically hidden for public */
        .admin-ui { display: none !important; } 
        
        /* Styles that activate ONLY when Admin Mode is ON */
        body.admin-active .admin-ui { display: inline-flex !important; }
        body.admin-active .event-card, body.admin-active .news-card { border: 2px dashed #ccc; }
        body.admin-active .news-img { cursor: pointer; opacity: 0.9; }
        body.admin-active .news-img:hover { opacity: 1; border: 3px solid red; }

        /* Admin Buttons */
        .add-btn { background: #28a745; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-family: var(--font-dv); }
        .delete-btn {
            background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 5px;
            cursor: pointer; font-size: 0.9em; position: absolute; top: 10px; left: 10px; z-index: 10;
        }
        .event-delete { position: static; margin-right: 10px; }
        
        /* ADMIN TOOLBAR (Fixed Bottom) */
        .admin-toolbar {
            position: fixed; bottom: 0; left: 0; width: 100%; background: #222; color: white;
            padding: 15px 20px; display: none; /* Hidden */
            justify-content: space-between; align-items: center; z-index: 9999;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.3); border-top: 4px solid var(--royal-gold);
        }
        .save-btn { background: var(--royal-gold); color: white; border: none; padding: 10px 30px; font-weight: bold; cursor: pointer; border-radius: 5px; font-size: 1.1em; font-family: var(--font-dv); }
        .save-btn:hover { background: white; color: black; }

        /* EDITABLE HIGHLIGHT */
        [contenteditable="true"] { outline: 2px dashed #B49658; background: rgba(255,255,224, 0.4); cursor: text; min-height: 1em; padding: 2px; }
        [contenteditable="true"]:focus { background: white; outline: 2px solid var(--royal-blue); }
        
        /* FOOTER */
        footer { margin-top: 50px; text-align: center; color: #888; font-size: 0.9em; padding-bottom: 20px; }
        .copyright-text { cursor: text; user-select: none; }
    </style>
</head>
<body>

    <header>
        <div class="site-title">ޒާދް އެކަޑެމީ - ޚަބަރާއި އިވެންޓް</div>
        <div class="nav-links">
            <a href="index.html">ހޯމް</a>
            <a href="courses.html">ކޯސްތައް</a>
            <a href="#" style="color:var(--royal-gold);">ޚަބަރު</a>
        </div>
    </header>

    <div class="container" id="mainContainer">
        
        <div class="section-title">
            <h2><i class="fas fa-calendar-alt"></i> ކުރިއަށް ހުރި އިވެންޓްތައް</h2>
            <button class="add-btn admin-ui" onclick="addNewEvent()"><i class="fas fa-plus"></i> އައު އިވެންޓެއް</button>
        </div>

        <div class="event-list" id="eventList">
            <div class="event-card">
                <div class="event-date">25 Dec</div>
                <div class="event-details">
                    <span class="event-title">ޤުރުއާން މުބާރާތުގެ ނަތީޖާ ފާޅުކުރުން</span>
                    <span class="event-loc">އިސްލާމީ މަރުކަޒު ޖަލްސާކުރާ މާލަމް</span>
                </div>
                <button class="delete-btn event-delete admin-ui" onclick="removeElement(this)">ފޮހެލާ</button>
            </div>
             <div class="event-card">
                <div class="event-date">01 Jan</div>
                <div class="event-details">
                    <span class="event-title">2025 ވަނަ އަހަރުގެ ކިޔެވުން ފެށުން</span>
                    <span class="event-loc">ޒާދް ކެމްޕަސް</span>
                </div>
                <button class="delete-btn event-delete admin-ui" onclick="removeElement(this)">ފޮހެލާ</button>
            </div>
        </div>

        <br><br>

        <div class="section-title">
            <h2><i class="fas fa-newspaper"></i> ޚަބަރާއި ލިޔުންތައް</h2>
            <button class="add-btn admin-ui" onclick="addNewArticle()"><i class="fas fa-plus"></i> އައު ލިޔުމެއް</button>
        </div>

        <div class="news-grid" id="newsGrid">
            
            <div class="news-card">
                <button class="delete-btn admin-ui" onclick="removeElement(this)"><i class="fas fa-trash"></i></button>
                <img src="https://images.unsplash.com/photo-1524178232363-1fb2b075b655?w=500" class="news-img" onclick="changeImage(this)">
                <div class="news-content">
                    <span class="news-tag">ނިއުސް</span>
                    <h3 class="news-title">އޭ.އައި ކޯސްތަކަށް ބޮޑު ތަރުހީބެއް</h3>
                    <p class="news-excerpt">މި އަހަރު އަލަށް ފެށި އާޓިފިޝަލް އިންޓެލިޖެންސް ކޯހުގެ ޖާގަ އެއްކޮށް ފުރިއްޖެއެވެ. އިތުރު ބެޗެއް ފެށުމަށް ދަނީ ތައްޔާރުވަމުންނެވެ.</p>
                </div>
            </div>

            <div class="news-card">
                <button class="delete-btn admin-ui" onclick="removeElement(this)"><i class="fas fa-trash"></i></button>
                <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=500" class="news-img" onclick="changeImage(this)">
                <div class="news-content">
                    <span class="news-tag">ދަރިވަރުން</span>
                    <h3 class="news-title">ދަރިވަރުންގެ ނަފްސާނީ ދުޅަހެޔޮކަން</h3>
                    <p class="news-excerpt">ކިޔެވުމުގެ އިތުރުން ކުދިންގެ ސިކުނޑި ހަމަޖައްސާލުމަށް ޚާއްޞަ ޕްރޮގްރާމެއް ޒާދް އެކަޑެމީއިން ފަށައިފިއެވެ.</p>
                </div>
            </div>

        </div>
    </div>

    <footer>
        <div class="copyright-text" ondblclick="activateAdmin()">
            © 2025 Zaad Academy. All Rights Reserved.
        </div>
    </footer>

    <div class="admin-toolbar" id="adminToolbar">
        <div style="font-size:1.1em;">
            <i class="fas fa-edit"></i> <strong>Admin Mode</strong>
            <span style="font-size:0.8em; opacity:0.7; margin-right:10px;">(Edit text by clicking on it)</span>
        </div>
        <button class="save-btn" onclick="savePage()"><i class="fas fa-save"></i> ވެބްސައިޓް ސޭވްކުރޭ</button>
    </div>

    <script>
        // --- 1. SECRET ADMIN ACTIVATION ---
        // ޑަބަލް ކްލިކް ކުރުމުން މި ފަންކްޝަން މަސައްކަތްކުރާނެ
        function activateAdmin() {
            // Check if already active
            if(document.body.classList.contains('admin-active')) return;

            // Activate Admin Mode
            document.body.classList.add('admin-active');
            document.getElementById('adminToolbar').style.display = 'flex';

            // Make text content editable
            const editables = document.querySelectorAll('.event-date, .event-title, .event-loc, .news-tag, .news-title, .news-excerpt');
            editables.forEach(el => el.contentEditable = "true");

            alert("އެޑްމިން މޯޑް ހުޅުވިއްޖެ! \nލިޔުންތަކަށް ފިއްތަވާލައިގެން ބަދަލުކުރެއްވޭނެ. \nނިމުމުން ތިރީގައިވާ 'ވެބްސައިޓް ސޭވްކުރޭ' ބަޓަނަށް ފިއްތަވާ.");
        }

        // --- 2. ADD NEW ARTICLE ---
        function addNewArticle() {
            const grid = document.getElementById('newsGrid');
            const newCard = document.createElement('div');
            newCard.className = 'news-card';
            newCard.innerHTML = `
                <button class="delete-btn admin-ui" onclick="removeElement(this)"><i class="fas fa-trash"></i></button>
                <img src="https://via.placeholder.com/500x300?text=Click+to+Change" class="news-img" onclick="changeImage(this)">
                <div class="news-content">
                    <span class="news-tag" contenteditable="true">ކެޓަގަރީ</span>
                    <h3 class="news-title" contenteditable="true">އައު ޚަބަރުގެ ސުރުޚީ</h3>
                    <p class="news-excerpt" contenteditable="true">ޚަބަރުގެ ތަފްސީލް...</p>
                </div>
            `;
            grid.prepend(newCard);
        }

        // --- 3. ADD NEW EVENT ---
        function addNewEvent() {
            const list = document.getElementById('eventList');
            const newEvent = document.createElement('div');
            newEvent.className = 'event-card';
            newEvent.innerHTML = `
                <div class="event-date" contenteditable="true">Date</div>
                <div class="event-details">
                    <span class="event-title" contenteditable="true">އިވެންޓުގެ ނަން</span>
                    <span class="event-loc" contenteditable="true">ތަން / ގަޑި</span>
                </div>
                <button class="delete-btn event-delete admin-ui" onclick="removeElement(this)">ފޮހެލާ</button>
            `;
            list.prepend(newEvent);
        }

        // --- 4. DELETE & IMAGE FUNCTIONS ---
        function removeElement(btn) {
            if(confirm("މި ލިޔުން ފޮހެލަން ބޭނުންފުޅުތޯ؟")) btn.parentElement.remove();
        }

        function changeImage(img) {
            if(document.body.classList.contains('admin-active')) {
                let url = prompt("ފޮޓޯ ލިންކް (URL):", img.src);
                if(url) img.src = url;
            }
        }

        // --- 5. CLEAN SAVE FUNCTION ---
        function savePage() {
            // 1. Clone document
            let clone = document.documentElement.cloneNode(true);
            
            // 2. Remove 'contenteditable' attributes from clone
            let editables = clone.querySelectorAll('[contenteditable]');
            editables.forEach(el => el.removeAttribute('contenteditable'));

            // 3. REMOVE ADMIN CLASSES (This hides everything again for the public)
            clone.querySelector('body').classList.remove('admin-active');
            
            // 4. Force hide admin toolbar in saved file
            let toolbar = clone.querySelector('#adminToolbar');
            if(toolbar) toolbar.style.display = 'none';

            // 5. Download
            let htmlContent = "<!DOCTYPE html>\n" + clone.outerHTML;
            let blob = new Blob([htmlContent], { type: "text/html" });
            let link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = "news.html";
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // Optional: Reload page or notify user
            alert("ފައިލް ޑައުންލޯޑް ވެއްޖެ. ދެން GitHub އަށް އަޕްލޯޑް ކުރައްވާ!");
        }
    </script>

</body>
</html>